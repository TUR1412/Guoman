# 变更提案: R16 NeoGlass UI & 功能进化

## 需求背景

当前项目已具备较完整的本地优先数据层、诊断体系与动效框架，但整体 UI 仍偏“组件堆叠式”呈现：信息密度高、导航路径分散、用户在探索 → 收藏 → 追更 → 洞察之间的闭环需要更少的操作成本与更强的视觉一致性。

本次变更目标是进行一次“毁灭性”的视觉体系重构：统一为 Neo‑brutalism × Glassmorphism 的现代设计语言，并在不引入臃肿依赖的前提下，补齐面向“探索/整理/洞察”的高级能力，让 GitHub Pages 部署成为开箱即用的线上展示形态。

## 变更内容

1. **视觉系统重构（NeoGlass）**
   - 统一卡片/按钮/分隔/阴影的“硬边框 + 玻璃层级 + 偏移阴影”风格。
   - 强化排版节奏：更稳的栅格、对齐、间距与字阶关系。
   - 动效策略升级：更克制、更非线性的转场与微交互，自动尊重 Reduced Motion。

2. **高级功能进化（Local-first + Dashboard 逻辑）**
   - Saved Views：为搜索/筛选提供“保存视图”能力（可一键复用、可管理）。
   - Compare Mode：加入“作品对比”页面与对比清单（2 个作品的并排对照）。
   - Pinned Tags：支持把标签“钉到首页/常用区”，提升重复探索效率。
   - 轻量数据可视化：在标签/分类页新增分布型小图（SVG 迷你图表），帮助快速理解内容结构。

3. **GitHub Pages 专项增强**
   - build base URL 改为自动推导（优先使用环境变量，其次从 homepage 解析），避免仓库名变更导致 404。
   - 保持 HashRouter + 404.html 兜底逻辑，确保深链刷新与子路径资源加载稳定。

4. **质量与强壮性**
   - 清除所有 `console.*`，统一走本地 logger / error reporter。
   - 补齐关键路径的错误兜底与输入校验，保持测试与 CI 质量闸门可用。

## 影响范围

- **模块**
  - UI / 设计 Tokens
  - 导航与路由
  - 搜索与筛选体验
  - 本地数据层（新增 keys 与导入导出覆盖）

- **风险**
  - 大范围样式变更可能引发局部组件布局偏移（通过 Storybook/页面回归验证与现有测试保护）。
  - 新增存储 key 需纳入 Data Vault，否则会导致“导入导出不完整”（通过同步更新 dataVault 解决）。

## 风险评估

- **风险:** GitHub Pages base 推导逻辑不兼容自定义域名或根路径部署
- **缓解:** 保留显式覆盖环境变量（如 `VITE_BASE` / `BASE_PATH`），并在默认场景下才启用自动推导
